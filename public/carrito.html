<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito - La Desesperanza</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <a href="index.html" class="logo">
                <span class="logo-icon">ü•ñ</span>
                <div class="logo-text">
                    <h1>LA DESESPERANZA</h1>
                    <span>Panader√≠a Exclusiva</span>
                </div>
            </a>
            
            <nav class="nav-menu" id="navMenu">
                <a href="index.html" class="nav-link">Inicio</a>
                <a href="productos.html" class="nav-link">Cat√°logo</a>
                <a href="carrito.html" class="nav-link active">
                    üõí Carrito
                    <span class="cart-badge" id="cartBadge">0</span>
                </a>
                <a href="login.html" class="nav-link btn-login" id="btnLogin">Iniciar Sesi√≥n</a>
            </nav>
            
            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h2>üõí Carrito de Compras</h2>
            <p>Revisa tus productos y completa tu pedido</p>
        </div>
    </section>

    <!-- Carrito -->
    <section class="carrito-page">
        <div class="container">
            <!-- Sin sesi√≥n -->
            <div id="sinSesion" style="display: none;">
                <div class="carrito-vacio">
                    <span class="carrito-vacio-icon">üîê</span>
                    <h3>Inicia sesi√≥n para ver tu carrito</h3>
                    <p>Necesitas una cuenta para agregar productos y realizar compras</p>
                    <a href="login.html" class="btn btn-primary">Iniciar Sesi√≥n</a>
                </div>
            </div>
            
            <!-- Carrito vac√≠o -->
            <div id="carritoVacio" style="display: none;">
                <div class="carrito-vacio">
                    <span class="carrito-vacio-icon">üõí</span>
                    <h3>Tu carrito est√° vac√≠o</h3>
                    <p>Explora nuestro cat√°logo y encuentra productos deliciosos</p>
                    <a href="productos.html" class="btn btn-primary">Ver Cat√°logo</a>
                </div>
            </div>
            
            <!-- Carrito con productos -->
            <div id="carritoContenido" class="carrito-content" style="display: none;">
                <div class="carrito-items">
                    <div class="carrito-header">
                        <h3>Productos en tu carrito</h3>
                        <button class="btn-vaciar" onclick="vaciarCarrito()">üóëÔ∏è Vaciar carrito</button>
                    </div>
                    <div class="carrito-lista" id="carritoLista">
                        <!-- Se cargan din√°micamente -->
                    </div>
                </div>
                
                <div class="carrito-resumen">
                    <h3>Resumen del Pedido</h3>
                    
                    <div class="resumen-saldo">
                        <span>üí≥ Tu saldo disponible</span>
                        <strong id="saldoUsuario">$0.00</strong>
                    </div>
                    
                    <div class="resumen-linea">
                        <span>Subtotal</span>
                        <span id="subtotal">$0.00</span>
                    </div>
                    <div class="resumen-linea">
                        <span>IVA (16%)</span>
                        <span id="iva">$0.00</span>
                    </div>
                    <div class="resumen-linea total">
                        <span>Total</span>
                        <span id="total">$0.00</span>
                    </div>
                    
                    <button class="btn-pagar" id="btnPagar" onclick="procesarCompra()">
                        Proceder al Pago
                    </button>
                    
                    <p id="mensajeSaldo" style="color: var(--color-error); font-size: 0.85rem; margin-top: 10px; display: none;">
                        Saldo insuficiente para completar la compra
                    </p>
                    
                    <a href="productos.html" style="display: block; text-align: center; margin-top: 15px; color: var(--color-text-light); font-size: 0.9rem;">
                        ‚Üê Continuar comprando
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>ü•ñ La Desesperanza</h3>
                    <p>Panader√≠a exclusiva especializada en productos artesanales.</p>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="productos.html">Cat√°logo</a></li>
                        <li><a href="carrito.html">Carrito</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <ul>
                        <li>üìß contacto@ladesesperanza.mx</li>
                        <li>üìû +52 55 1234 5678</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2025 La Desesperanza. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
    <script src="carrito.js"></script>
</body>
</html>
